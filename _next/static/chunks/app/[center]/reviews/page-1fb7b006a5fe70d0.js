(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{929:(e,l,t)=>{Promise.resolve().then(t.bind(t,8100))},3219:(e,l,t)=>{"use strict";t.d(l,{A:()=>i});var r=t(5155);t(2115);var a=t(2619),s=t.n(a);let i=e=>{let{review:l,isMainPage:t=!1}=e;return(0,r.jsx)(s(),{href:"/reviews",className:"block",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 text-center cursor-pointer transform hover:scale-[1.02]",children:[(0,r.jsx)("div",{className:"flex flex-col items-center mb-1",children:(0,r.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:l.author})}),(0,r.jsx)("div",{className:"mb-1",children:(0,r.jsx)("p",{className:"text-sm text-gray-600 flex items-center justify-center space-x-2",children:(0,r.jsxs)("span",{children:[new Date(l.date).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})," ∙ ",l.source]})})}),(0,r.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,r.jsx)("div",{className:"flex items-center space-x-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("svg",{className:"w-6 h-6 transition-colors ".concat(t<l.rating?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},t))})}),(0,r.jsx)("div",{className:"border-t border-gray-100 pt-6 pb-2",children:(0,r.jsxs)("div",{className:"relative px-2",children:[(0,r.jsx)("span",{className:"text-4xl text-red-200 absolute -top-2 -left-1 font-serif z-10",children:"“"}),(0,r.jsx)("span",{className:"text-4xl text-red-200 absolute -bottom-2 -right-1 font-serif z-10",children:"”"}),(0,r.jsx)("div",{className:"relative z-20 px-4 ".concat(t?"lg:line-clamp-none line-clamp-4 lg:max-h-none overflow-hidden":""),children:(0,r.jsx)("blockquote",{className:"text-gray-700 leading-relaxed text-base italic",children:(e=>e&&Array.isArray(e)?e.map(e=>"block"===e._type&&e.children?e.children.map(e=>e.text||"").join(""):"").join(" "):"")(l.reviewContent)})})]})})]})})}},8100:(e,l,t)=>{"use strict";t.d(l,{default:()=>n});var r=t(5155),a=t(2115),s=t(3219);let i=e=>{let{trainers:l,filter:t,onFilterChange:s}=e,[i,n]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),c=e=>{s({...t,trainerId:e}),d(!1)};return(0,r.jsx)("section",{className:"py-4 bg-white border-b border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>n(!i),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:[{all:"전체",general:"일반회원권",pt:"PT 수업"}[t.reviewType],(0,r.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&(0,r.jsx)("div",{className:"absolute left-0 z-10 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5",children:(0,r.jsx)("div",{className:"py-1",children:[{value:"all",label:"전체"},{value:"general",label:"일반회원권"},{value:"pt",label:"PT 수업"}].map(e=>(0,r.jsxs)("button",{onClick:()=>(e=>{"pt"!==e?s({reviewType:e,trainerId:"all"}):s({...t,reviewType:e}),n(!1)})(e.value),className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-150 ".concat(t.reviewType===e.value?"bg-blue-100 text-blue-900 font-medium":"text-gray-700 hover:bg-gray-100"),children:[e.label,t.reviewType===e.value&&(0,r.jsx)("svg",{className:"w-4 h-4 inline ml-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.value))})})]}),"pt"===t.reviewType&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>d(!o),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(()=>{if("all"===t.trainerId)return"전체 트레이너";let e=l.find(e=>e.id===t.trainerId);return e?"".concat(e.name," 트레이너"):"전체 트레이너"})(),(0,r.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&(0,r.jsx)("div",{className:"absolute left-0 z-10 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)("button",{onClick:()=>c("all"),className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-150 ".concat("all"===t.trainerId?"bg-blue-100 text-blue-900 font-medium":"text-gray-700 hover:bg-gray-100"),children:["전체 트레이너","all"===t.trainerId&&(0,r.jsx)("svg",{className:"w-4 h-4 inline ml-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),l.map(e=>(0,r.jsxs)("button",{onClick:()=>c(e.id),className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-150 ".concat(t.trainerId===e.id?"bg-blue-100 text-blue-900 font-medium":"text-gray-700 hover:bg-gray-100"),children:[e.name," 트레이너",t.trainerId===e.id&&(0,r.jsx)("svg",{className:"w-4 h-4 inline ml-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.id))]})})]}),("all"!==t.reviewType||"all"!==t.trainerId)&&(0,r.jsxs)("button",{onClick:()=>s({reviewType:"all",trainerId:"all"}),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"초기화"]})]})}),(i||o)&&(0,r.jsx)("div",{className:"fixed inset-0 z-5",onClick:()=>{n(!1),d(!1)}})]})})},n=e=>{let{allReviews:l,trainers:t}=e,[n,o]=(0,a.useState)({reviewType:"all",trainerId:"all"}),[d,c]=(0,a.useState)(20),[x,m]=(0,a.useState)(!1),h=(0,a.useMemo)(()=>{let e=l;return"general"===n.reviewType?e=e.filter(e=>!e.trainer):"pt"===n.reviewType&&(e=e.filter(e=>!!e.trainer),"all"!==n.trainerId&&(e=e.filter(e=>{var l;return(null==(l=e.trainer)?void 0:l._id)===n.trainerId}))),e},[l,n]),u=(0,a.useMemo)(()=>h.slice(0,d),[h,d]),g=d<h.length,v=(0,a.useCallback)(e=>{o(e),c(20)},[]),b=(0,a.useCallback)(()=>{!x&&g&&(m(!0),setTimeout(()=>{c(e=>Math.min(e+20,h.length)),m(!1)},300))},[x,g,h.length]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{trainers:t,filter:n,onFilterChange:v,totalReviews:l.length,filteredCount:h.length}),(0,r.jsx)("section",{className:"py-16 bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[0===u.length&&!x&&(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"조건에 맞는 후기가 없습니다"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"다른 조건으로 검색해보시거나 필터를 초기화해보세요."}),(0,r.jsx)("button",{onClick:()=>v({reviewType:"all",trainerId:"all"}),className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors duration-200",children:"필터 초기화"})]}),u.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6",children:u.map(e=>(0,r.jsx)("div",{className:"break-inside-avoid mb-6",children:(0,r.jsx)(s.A,{review:e})},e.id))}),g&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("button",{onClick:b,disabled:x,className:"bg-red-600 text-white px-8 py-4 rounded-full font-semibold hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center mx-auto",children:x?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-white rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-4 h-4 bg-white rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-4 h-4 bg-white rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,r.jsx)("span",{className:"ml-2",children:"로딩중..."})]})}):(0,r.jsx)(r.Fragment,{children:"후기 더보기"})})})]})]})})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=929)),_N_E=e.O()}]);